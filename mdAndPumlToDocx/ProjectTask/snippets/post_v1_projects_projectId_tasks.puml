@startuml
title Flusso Project API - POST /v1/projects/{projectId}/tasks

actor Client as C
participant "ProjectTask API BS (borepurposingmgmt)" as API_BS
participant "ProjectTask API MS (meRepurposingReg)" as API_MS
database "Database" as DB

C -> API_BS : POST /v1/projects/{projectId}/tasks\nBody: TaskCreateDTORequest
activate API_BS

note right of API_BS
HTTP_METHOD = POST
CONTENT_TYPE = application/json
end note

API_BS -> API_MS : POST {meRepurposingRegEndPoint}/v1/projects/{projectId}/tasks \nBody: TaskCreateDTORequest{ name, startDate, endDate, position, predecessorId }
activate API_MS

API_MS -> DB : Inserimento nuovo Task associato al projectId
DB --> API_MS : Identificativo nuovo record / errore
API_MS --> API_BS : - JSON Response 201 Created : IdentifierDTOResponse { id } \n- Error Response 400 / 404 / 500
deactivate API_MS

API_BS --> C : - 201 Created (JSON Response) \n- 400 / 404 / 500 Error Response
deactivate API_BS

@enduml
